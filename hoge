explain SELECT id , thumbnail, address, rent, name FROM estate WHERE (door_width >= 1 AND door_height >= 1) OR (door_width >= 1 AND door_height >= 1) OR (door_width >= 1 AND door_height >= 1) OR (door_width >= 1 AND door_height >= 1) OR (door_width >= 1 AND door_height >= 1) OR (door_width >= 1 AND door_height >= 1) ORDER BY popularity DESC, id ASC LIMIT 100;
	 		 



explain
select id, thumbnail, address, rent, name, popularity from (
	SELECT id, thumbnail, address, rent, name, popularity FROM estate WHERE (door_width >= 1 AND door_height >= 1)
	union all SELECT id, thumbnail, address, rent, name, popularity FROM estate WHERE (door_width >= 1 AND door_height >= 1)
	union all SELECT id, thumbnail, address, rent, name, popularity FROM estate WHERE (door_width >= 2 AND door_height >= 3)
	union all SELECT id, thumbnail, address, rent, name, popularity FROM estate WHERE (door_width >= 3 AND door_height >= 1)
	union all SELECT id, thumbnail, address, rent, name,popularity FROM estate WHERE (door_width >= 3 AND door_height >= 2)
	union all SELECT id, thumbnail, address, rent, name, popularity FROM estate WHERE (door_width >= 1 AND door_height >= 3)
) data
ORDER BY data.popularity DESC, data.id ASC LIMIT 100;




select id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity, description from (
				SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity FROM estate WHERE (door_width >= 1 AND door_height >= 1)
				union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity , description FROM estate WHERE (door_width >= 1 AND door_height >= 1)
				union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity , description FROM estate WHERE (door_width >= 1 AND door_height >= 1)
				union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity , description FROM estate WHERE (door_width >= 1 AND door_height >= 1)
				union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity , description FROM estate WHERE (door_width >= 1 AND door_height >= 1)
				union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity , description FROM estate WHERE (door_width >= 1 AND door_height >= 1)
			) data ORDER BY data.popularity DESC, data.id ASC LIMIT 1;

explain select id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity, description from ( SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity FROM estate WHERE (door_width >= 1 AND door_height >= 1) union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity , description FROM estate WHERE (door_width >= 1 AND door_height >= 1)) data ORDER BY data.popularity DESC, data.id ASC LIMIT 1;










explain
select id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity, description from (
	SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity, description FROM estate WHERE (door_width >= 12 AND door_height >= 13)
	union all SELECT id, thumbnail, address, rent, name, latitude, longitude, door_height, door_width, features, popularity, description FROM estate WHERE (door_width >= 1 AND door_height >= 144)
)  data  group by data.id ORDER BY data.popularity DESC, data.id ASC LIMIT 3 ;


select
estate.id, estate.thumbnail, estate.address, estate.rent, estate.name, estate.latitude, estate.longitude,
estate.door_height, estate.door_width, estate.features, estate.popularity,
estate.description
from estate
where estate.id in (
	SELECT id FROM estate WHERE (door_width >= ? AND door_height >= ?)
	union all
	SELECT id FROM estate WHERE (door_width >= ? AND door_height >= ?)
)
ORDER BY estate.popularity DESC, estate.id ASC LIMIT ?;